(function(){"use strict";var e={5823:function(e,r,t){var c=t(9242),o=t(3396);const i={class:"container"},n={class:"cards__container"};function u(e,r,t,c,u,s){const a=(0,o.up)("available-products-list"),d=(0,o.up)("cart-products-list"),l=(0,o.up)("filter-products");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",n,[(0,o.Wm)(a),(0,o.Wm)(d)]),(0,o.Wm)(l)])}var s=t(7139);const a={class:"product__container"},d=(0,o._)("h1",{class:"title"},"Список Товарів",-1),l={class:"product__card"},p={class:"product__list"},_={class:"product__info"},m={class:"product__name"},y={class:"product__price"},f=["onClick"];function v(e,r,t,c,i,n){return(0,o.wg)(),(0,o.iD)("div",a,[d,(0,o._)("div",l,[(0,o._)("ul",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.productsToBuyList,((r,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t,class:"product__item"},[(0,o._)("div",_,[(0,o._)("h4",m,(0,s.zw)(r.name),1),(0,o._)("div",y,(0,s.zw)(r.price)+(0,s.zw)(e.getSelectedCurrencyMark),1)]),(0,o._)("button",{onClick:e=>n.addProduct(r,t),class:"product__button"},"Купити",8,f)])))),128))])])])}var g=t(65),h={name:"AvailableProductsList",computed:{...(0,g.Se)(["productsToBuyList","getSelectedCurrencyMark"])},methods:{...(0,g.nv)(["addNewProduct"]),addProduct(e,r){this.addNewProduct({productData:{name:e.name,price:e.price},index:r})}}},C=t(89);const P=(0,C.Z)(h,[["render",v]]);var w=P;const L={class:"product__container"},k=(0,o._)("h2",{class:"title"},"Корзина",-1),b={class:"product__card"},T={class:"product__list"},x={class:"product__info"},S={class:"product__name"},M={class:"product__price"},D=["onClick"],O={class:"product__check"},z={class:"product__check-info"},B=(0,o._)("h4",{class:"product__check-name"},"Разом до оплати",-1),N={class:"product__check-price"},F={class:"error-message"};function R(e,r,t,c,i,n){return(0,o.wg)(),(0,o.iD)("div",L,[k,(0,o._)("div",b,[(0,o._)("ul",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.productsCartList,((r,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t,class:"product__item"},[(0,o._)("div",x,[(0,o._)("h4",S,(0,s.zw)(r.name),1),(0,o._)("div",M,(0,s.zw)(r.price)+(0,s.zw)(e.getSelectedCurrencyMark),1)]),(0,o._)("button",{onClick:e=>n.returnProduct(r,t),class:"product__button"},"Відмовитись",8,D)])))),128))]),(0,o._)("div",O,[(0,o._)("div",z,[B,(0,o._)("div",N,(0,s.zw)(n.displayTotalPrice)+(0,s.zw)(e.getSelectedCurrencyMark),1)]),(0,o._)("button",{onClick:r[0]||(r[0]=(...r)=>e.payTheNewCart&&e.payTheNewCart(...r)),class:"product__check-button"},"Оплатити"),(0,o._)("div",F,(0,s.zw)(e.errorMessage),1)])])])}var j={name:"CartProductsList",computed:{...(0,g.Se)(["productsCartList","calcProductsPriceSum","errorMessage","getSelectedCurrencyMark"]),displayTotalPrice(){const e=this.calcProductsPriceSum;return"number"===typeof e?e.toFixed(2):"0.00"}},methods:{...(0,g.nv)(["returnNewProduct","payTheNewCart"]),returnProduct(e,r){this.returnNewProduct({productData:{name:e.name,price:e.price},index:r})}}};const Z=(0,C.Z)(j,[["render",R]]);var A=Z;const E={class:"filters__container"},H=(0,o._)("option",{value:"Гривня"},"Гривня",-1),K=["value"];function W(e,r,t,i,n,u){return(0,o.wg)(),(0,o.iD)("div",E,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>u.currency=e),onChange:r[1]||(r[1]=(...e)=>u.updatePrices&&u.updatePrices(...e))},[H,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.currenciesList,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.id,value:e.name},(0,s.zw)(e.name),9,K)))),128))],544),[[c.bM,u.currency]])])}var Y={name:"FilterProducts",computed:{...(0,g.Se)(["currenciesList","getSelectedCurrency"]),currency:{get(){return this.getSelectedCurrency},set(e){this.updateSelectedCurrency(e)}}},methods:{...(0,g.nv)(["updateSelectedCurrency","updateProductPrices"]),updatePrices(){this.updateProductPrices()}}};const U=(0,C.Z)(Y,[["render",W]]);var V=U,$={name:"App",components:{AvailableProductsList:w,CartProductsList:A,FilterProducts:V}};const q=(0,C.Z)($,[["render",u]]);var G=q,I=(t(560),(0,g.MT)({state:{productsToBuyList:[{id:1,name:"Хліб",price:25},{id:2,name:"Сосиски",price:30},{id:3,name:"Гречка",price:50},{id:4,name:"Мандарини",price:15},{id:5,name:"Олія",price:20}],productsCartList:[{id:1,name:"Чорна Ікра",price:100}],errorMessage:null,currenciesList:[{id:1,name:"Доллар"}],selectedCurrency:"Гривня",selectedCurrencyMark:"₴",dollarRate:38},getters:{productsToBuyList:e=>e.productsToBuyList,productsCartList:e=>e.productsCartList,calcProductsPriceSum:e=>{if(!e.productsCartList||0===e.productsCartList.length)return 0;const r=e.productsCartList.reduce(((e,r)=>e+parseFloat(r.price)),0);return r},errorMessage:e=>e.errorMessage,currenciesList:e=>e.currenciesList,getSelectedCurrency:e=>e.selectedCurrency,getDollarRate:e=>e.dollarRate,getSelectedCurrencyMark:e=>"Гривня"===e.selectedCurrency?"₴":"Доллар"===e.selectedCurrency?"$":void 0},mutations:{addProduct(e,{product:r,index:t}){e.productsCartList.push(r),e.productsToBuyList.splice(t,1),e.errorMessage=null},returnProduct(e,{product:r,index:t}){e.productsToBuyList.push(r),e.productsCartList.splice(t,1)},payTheCart(e){if(e.productsCartList.length){e.errorMessage=null;const r=e.productsCartList.splice(0);e.productsToBuyList.push(...r)}else e.errorMessage="Додайте, щось до корзини перед тим, як її оплачувати"},setSelectedCurrency(e,r){e.selectedCurrency=r},changePrice(e){console.log("changePrice mutation is being executed"),e.productsToBuyList.forEach((r=>{"Доллар"===e.selectedCurrency?r.price=(r.price/e.dollarRate).toFixed(2):r.price=(r.price*e.dollarRate).toFixed(2)})),e.productsCartList.forEach((r=>{"Доллар"===e.selectedCurrency?r.price=(r.price/e.dollarRate).toFixed(2):r.price=(r.price*e.dollarRate).toFixed(2)})),console.log(e.productsToBuyList),console.log(e.productsCartList)}},actions:{addNewProduct({commit:e},{productData:r,index:t}){e("addProduct",{product:{id:(new Date).getTime(),name:r.name,price:r.price},index:t})},returnNewProduct({commit:e},{productData:r,index:t}){e("returnProduct",{product:{id:(new Date).getTime(),name:r.name,price:r.price},index:t})},payTheNewCart({commit:e}){e("payTheCart")},updateSelectedCurrency({commit:e},r){e("setSelectedCurrency",r)},updateProductPrices({commit:e}){console.log("updateProductPrices action is triggered"),e("changePrice")}},modules:{}}));(0,c.ri)(G).use(I).mount("#app")}},r={};function t(c){var o=r[c];if(void 0!==o)return o.exports;var i=r[c]={exports:{}};return e[c].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(r,c,o,i){if(!c){var n=1/0;for(d=0;d<e.length;d++){c=e[d][0],o=e[d][1],i=e[d][2];for(var u=!0,s=0;s<c.length;s++)(!1&i||n>=i)&&Object.keys(t.O).every((function(e){return t.O[e](c[s])}))?c.splice(s--,1):(u=!1,i<n&&(n=i));if(u){e.splice(d--,1);var a=o();void 0!==a&&(r=a)}}return r}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[c,o,i]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var c in r)t.o(r,c)&&!t.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:r[c]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,c){var o,i,n=c[0],u=c[1],s=c[2],a=0;if(n.some((function(r){return 0!==e[r]}))){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(s)var d=s(t)}for(r&&r(c);a<n.length;a++)i=n[a],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},c=self["webpackChunkhomework_vuex_2"]=self["webpackChunkhomework_vuex_2"]||[];c.forEach(r.bind(null,0)),c.push=r.bind(null,c.push.bind(c))}();var c=t.O(void 0,[998],(function(){return t(5823)}));c=t.O(c)})();
//# sourceMappingURL=app.2e808e2c.js.map